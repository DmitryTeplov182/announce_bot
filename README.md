# üö¥‚Äç‚ôÇÔ∏è Announce Bot

Telegram –±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–æ–Ω—Å–æ–≤ –≤–µ–ª–æ–ø–æ–µ–∑–¥–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º GPX –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ Komoot.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–æ–Ω—Å–æ–≤ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
- üó∫Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ GPX –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ Komoot
- üìç –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞
- üåùüåö –í—ã–±–æ—Ä —Ç–µ–º–ø–∞ –ø–æ–µ–∑–¥–∫–∏
- üí¨ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- üîÑ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
- üì± –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–Ω–æ–ø–∫–∞–º–∏

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd announce_bot
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞:
```bash
TELEGRAM_TOKEN=your_bot_token_here
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
python bot.py
```

**–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —Ç–æ—á–∫–∞–º–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–ª—è –ù–æ–≤–∏ –°–∞–¥–∞. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `start_locations.json` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/reload_locations`.

### Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd announce_bot
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞:
```bash
TELEGRAM_TOKEN=your_bot_token_here
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose:
```bash
# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ compose.yml.demo –≤ docker-compose.yml
cp compose.yml.demo docker-compose.yml

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker:**
- –¢–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ volume (–º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏)
- –ö—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π healthcheck
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–µ–∫ —Å—Ç–∞—Ä—Ç–∞

–¢–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `start_locations.json`. –§–∞–π–ª —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–ª—è –ù–æ–≤–∏ –°–∞–¥–∞:

```json
{
  "start_points": [
    {
      "name": "koferajd",
      "link": "https://maps.app.goo.gl/iTBcRqjvhJ9DYvRK7"
    },
    {
      "name": "–§–ª–∞–≥–∏", 
      "link": "https://maps.app.goo.gl/j95ME2cuzX8k9hnj7"
    },
    {
      "name": "–õ–∏–¥–ª –õ–∏–º–∞–Ω",
      "link": "https://maps.app.goo.gl/5JKtAgGBVe48jM9r7"
    },
    {
      "name": "–ñ–µ–ª–µ–∑–Ω–∏—á–∫–∞ –ü–∞—Ä–∫",
      "link": "https://maps.app.goo.gl/hSZ9C4Xue5RVpMea8"
    },
    {
      "name": "–ú–∞–∫—Å–∏ —É –ë—É–ª—å–≤–∞—Ä–∞ –ï–≤—Ä–æ–ø—ã",
      "link": "https://maps.app.goo.gl/3ZbDZM9VVRBDDddp8?g_st=ipc"
    },
    {
      "name": "–°–≤–æ—è —Ç–æ—á–∫–∞",
      "link": null
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç –ø–æ–ª–µ–π:
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –±–æ—Ç–µ)
- `link` - —Å—Å—ã–ª–∫–∞ –Ω–∞ Google Maps –∏–ª–∏ `null` –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- `/reload_locations` - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞
- `/status` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ—á–µ–∫:
–ü—Ä–æ—Å—Ç–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `start_locations.json` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/reload_locations` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞–Ω–æ–Ω—Å
- `/help` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/status` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –∏ –∫—ç—à–∞
- `/clear_cache` - –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à GPX —Ñ–∞–π–ª–æ–≤
- `/cancel` - –æ—Ç–º–µ–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–æ–Ω—Å–∞
- `/restart` - —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `/reload_locations` - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- `komootgpx` CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- Telegram Bot Token

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
announce_bot/
‚îú‚îÄ‚îÄ bot.py                 # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ start_locations.json   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–µ–∫ —Å—Ç–∞—Ä—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .dockerignore         # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ Dockerfile            # –û–±—Ä–∞–∑ Docker
‚îú‚îÄ‚îÄ compose.yml.demo      # –ü—Ä–∏–º–µ—Ä Docker Compose
‚îú‚îÄ‚îÄ cache/                # –ö—ç—à GPX —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ logs/                 # –õ–æ–≥–∏ (–ø—Ä–∏ Docker)
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∞—Ä—à—Ä—É—Ç—ã Komoot –ø—É–±–ª–∏—á–Ω—ã–µ
- `komootgpx` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH
- –ö—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è –æ—Ç —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 